########################
FreeRTOS Getting Started
########################

This is the simplest buildable multitile FreeRTOS project for XCore. We encourage you to use this `project template <https://github.com/xmos/freertos_getting_started>`_ for new projects. To start your own project:

1. Click **Use this template**.
2. Use the **Owner** drop-down menu, and select the account you want to own the repository.
3. Type a name for your repository, and an optional description.
4. Choose a repository visibility.  For more information, see `"About repository visibility" <https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-repository-visibility>`_.
5. Click **Create repository from template**.

Alternatively, you can copy the contents of this folder to your computer and begin developing.

****************
Project Contents
****************

Below is short explanation of remaining files in this project.  It is assumed that the reader is familiar with the `XCore architecture and programming guide <https://www.xmos.ai/documentation/XM-014363-PC-4/html/index.html>`_.

::

    ├── CMakeLists.txt
    ├── Makefile
    ├── XCORE-AI-EXPLORER.xn
    ├── src
    │   ├── config.xscope
    │   ├── FreeRTOSConfig.h
    │   ├── board_init.h
    │   ├── board_init.c
    │   └── main.c
    └── README.rst

CMakeLists.txt
==============

XCore SDK projects are built using CMake. The project build configuration is contained in CMakeLists.txt.  The CMakeLists.txt file contains TODO comments that indicate where you will most likely modify the configuration.  See the XCore SDK documentation for more information.

Makefile
========

A Makefile is provided that runs `cmake` and then runs `make` with the makefiles generated by `cmake`. This is done to automate the steps that must be taken to build for more than one tile. The Makefile actually runs `cmake` once per tile. Each tile is built independently, and the two resulting binaries are then stitched together by the Makefile.

XCORE-AI-EXPLORER.xn
====================

Target platform file for the xcore.ai Explorer board.

config.xscope
=============

XSCOPE config file.

FreeRTOSConfig.h
================

Standard FreeRTOS config fuile required by all FreeRTOS applications.

board_init.h/c
==============

Functions to configure drivers running on each tile.  

main.c
======

Main source file for the application.  The application prints "Hello" from a thread running on each tile.

****************************
Running the project firmware
****************************

To build and run the firmware, run the following commands:

.. tab:: Linux and Mac

	.. code-block:: console

		$ cmake -B build -DBOARD=XCORE-AI-EXPLORER
		$ cd build
		$ make
		$ cd ..
		$ xrun --xscope bin/getting_started.xe
		
.. tab:: Windows XTC Tools CMD prompt

	.. code-block:: console

		> cmake -G "NMake Makefiles" -B build -DBOARD=XCORE-AI-EXPLORER
		> cd build
		> nmake
		> cd..
		> xrun --xscope bin\getting_started.xe
		
